import { jsx as _jsx, jsxs as _jsxs } from "react/jsx-runtime";
export default function DeploySection({ formData, onChange }) {
    const deployType = 'yaml_path' in formData.deploy ? 'docker-compose' :
        'namespace' in formData.deploy ? 'kubernetes' : 'bare';
    const handleDeployTypeChange = (type) => {
        if (type === 'bare') {
            onChange({
                ansible: false,
                project_path: '/opt/app',
                service_name: 'my-app'
            });
        }
        else if (type === 'docker-compose') {
            onChange({
                yaml_path: '/etc/docker/compose',
                yaml_name: 'docker-compose.yml',
                graceful: true
            });
        }
        else {
            onChange({
                namespace: 'default',
                yaml_name: 'k8s-deployment.yaml',
                rolling_update: true
            });
        }
    };
    return (_jsxs("div", { className: "bg-white rounded-lg shadow p-6", children: [_jsx("h2", { className: "text-xl font-bold text-gray-900 mb-4", children: "Deployment Configuration" }), _jsxs("div", { className: "mb-6 flex flex-wrap gap-4", children: [_jsxs("label", { className: "flex items-center", children: [_jsx("input", { type: "radio", checked: deployType === 'bare', onChange: () => handleDeployTypeChange('bare'), className: "mr-2" }), _jsx("span", { children: "Bare Server" })] }), _jsxs("label", { className: "flex items-center", children: [_jsx("input", { type: "radio", checked: deployType === 'docker-compose', onChange: () => handleDeployTypeChange('docker-compose'), className: "mr-2" }), _jsx("span", { children: "Docker Compose" })] }), _jsxs("label", { className: "flex items-center", children: [_jsx("input", { type: "radio", checked: deployType === 'kubernetes', onChange: () => handleDeployTypeChange('kubernetes'), className: "mr-2" }), _jsx("span", { children: "Kubernetes" })] })] }), deployType === 'bare' ? (_jsxs("div", { className: "space-y-4", children: [_jsxs("div", { children: [_jsx("label", { className: "block text-sm font-medium text-gray-700 mb-1", children: "Project Path *" }), _jsx("input", { type: "text", value: formData.deploy.project_path, onChange: e => onChange({ ...formData.deploy, project_path: e.target.value }), placeholder: "/opt/app", className: "w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent" })] }), _jsxs("div", { children: [_jsx("label", { className: "block text-sm font-medium text-gray-700 mb-1", children: "Service Name *" }), _jsx("input", { type: "text", value: formData.deploy.service_name, onChange: e => onChange({ ...formData.deploy, service_name: e.target.value }), placeholder: "my-app", className: "w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent" })] }), _jsx("div", { children: _jsxs("label", { className: "flex items-center", children: [_jsx("input", { type: "checkbox", checked: formData.deploy.reload_enabled || false, onChange: e => onChange({ ...formData.deploy, reload_enabled: e.target.checked }), className: "mr-2" }), _jsx("span", { className: "text-sm font-medium text-gray-700", children: "Enable Reload" })] }) }), _jsxs("div", { children: [_jsx("label", { className: "block text-sm font-medium text-gray-700 mb-1", children: "Deploy Commands" }), _jsx("textarea", { value: formData.deploy.commands_to_execute || '', onChange: e => onChange({ ...formData.deploy, commands_to_execute: e.target.value }), placeholder: "systemctl restart my-app", rows: 3, className: "w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent" })] })] })) : deployType === 'docker-compose' ? (_jsxs("div", { className: "space-y-4", children: [_jsxs("div", { children: [_jsx("label", { className: "block text-sm font-medium text-gray-700 mb-1", children: "YAML Path *" }), _jsx("input", { type: "text", value: formData.deploy.yaml_path, onChange: e => onChange({ ...formData.deploy, yaml_path: e.target.value }), placeholder: "/etc/docker/compose", className: "w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent" })] }), _jsxs("div", { children: [_jsx("label", { className: "block text-sm font-medium text-gray-700 mb-1", children: "YAML File Name" }), _jsx("input", { type: "text", value: formData.deploy.yaml_name || 'docker-compose.yml', onChange: e => onChange({ ...formData.deploy, yaml_name: e.target.value }), placeholder: "docker-compose.yml", className: "w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent" })] }), _jsxs("label", { className: "flex items-center", children: [_jsx("input", { type: "checkbox", checked: formData.deploy.graceful || false, onChange: e => onChange({ ...formData.deploy, graceful: e.target.checked }), className: "mr-2" }), _jsx("span", { className: "text-sm font-medium text-gray-700", children: "Graceful Shutdown" })] })] })) : (_jsxs("div", { className: "space-y-4", children: [_jsxs("div", { children: [_jsx("label", { className: "block text-sm font-medium text-gray-700 mb-1", children: "Namespace" }), _jsx("input", { type: "text", value: formData.deploy.namespace || 'default', onChange: e => onChange({ ...formData.deploy, namespace: e.target.value }), placeholder: "default", className: "w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent" })] }), _jsxs("div", { children: [_jsx("label", { className: "block text-sm font-medium text-gray-700 mb-1", children: "YAML File Name *" }), _jsx("input", { type: "text", value: formData.deploy.yaml_name, onChange: e => onChange({ ...formData.deploy, yaml_name: e.target.value }), placeholder: "k8s-deployment.yaml", className: "w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent" })] }), _jsxs("label", { className: "flex items-center", children: [_jsx("input", { type: "checkbox", checked: formData.deploy.rolling_update ?? true, onChange: e => onChange({ ...formData.deploy, rolling_update: e.target.checked }), className: "mr-2" }), _jsx("span", { className: "text-sm font-medium text-gray-700", children: "Rolling Update" })] })] }))] }));
}
